<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui" >
<h:head>
    <link rel="stylesheet" type="text/css" media="screen" href="style.css"/>
    <title>Ghostnet Surveillance</title>
</h:head>
      
<h:body>
    <div id="header" class="container">
        <img id="logo" src="src/logo.png" width="250"/>
        <h1 id="title">Ghostnet Surveillance</h1>
        <h:form styleClass="headerRight">
            <p:commandButton value="Logout" action="#{loginController.logout()}"/>
            
            <!-- TODO delete later -->
            <p:commandButton value="TestBTN" action="#{loginController.checkAttributes()}"/>
        </h:form>
    </div>
  
    <div class="container">
        <p:tabView>
            <p:tab title="Report a Ghostnet">
                <h:form>
                    <h:panelGrid columns="2">
                        <p:outputLabel for="location" value="Location(WhatThreeWords)"/>
                        <p:inputText id="location" required="true" value="#{netController.location}"/>
                        <p:outputLabel for="size" value="Estimated Size (qm)"/>
                        <p:inputText type="number" id="size" required="true" value="#{netController.size}"/>
                    </h:panelGrid>

                    <h:commandButton value="Report Net" action="#{netController.reportNet()}"/>
                </h:form>  
            </p:tab>
            <p:tab title="Sign up for retrieval">
                <h:form>
                    <h:panelGrid columns="2">
                        <p:outputLabel for="id" value="ID"/>
                        <p:inputText type="number" value="#{netController.netId}" id="id" required="true"/>
                    </h:panelGrid>

                    <h:commandButton value="Register for Retrieval" action="#{netController.registerForRetrieval()}"/>
                </h:form>  
            </p:tab>
            <p:tab title="Mark net as retrieved">
                <h:form>
                    <h:panelGrid columns="2">
                        <p:outputLabel for="id" value="ID" />
                        <p:inputText type="number" value="#{netController.netId}" id="id" required="true"/>
                    </h:panelGrid>

                    <h:commandButton value="Mark as retrieved" action="#{netController.markNetAsRetrieved()}"/>
                </h:form>  
            </p:tab>
            <p:tab title="Mark net as missing">
                <h:form>
                    <h:panelGrid columns="2">
                        <p:outputLabel for="id" value="ID"/>
                        <p:inputText type="number" value="#{netController.netId}" id="id" required="true"/>
                    </h:panelGrid>

                    <h:commandButton value="Mark as missing" action="#{netController.markNetAsMissing()}"/>
                </h:form>  
            </p:tab>
    </p:tabView>
    </div>
       
    <!-- List of Ghostnets -->
    <div class="container">
        
        <h3> Nets to be retrieved </h3>
        
        <p:dataTable var="net" value="#{webapplication.netlist}">
            <p:column>
                <f:facet name="header">ID</f:facet>
                #{net.id}
            </p:column>
            <p:column>
                <f:facet name="header">Location</f:facet>
                #{net.location}
            </p:column>
            <p:column>
                <f:facet name="header">Size</f:facet>
                #{net.size}
            </p:column>
            <p:column>
                <f:facet name="header">Status</f:facet>
                #{net.status}
            </p:column>
            <p:column>
                <f:facet name="header">Responsible User</f:facet>
                #{net.responsibleOperator.operatorName}
            </p:column>
            
        
        </p:dataTable>

        
    </div>
    
   

</h:body>
</html>

